{"ast":null,"code":"import React,{useEffect,useState}from\"react\";import{getChartData}from\"../api\";import{Pie}from\"react-chartjs-2\";import{Chart as ChartJS,ArcElement,Tooltip,Legend}from'chart.js';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";ChartJS.register(ArcElement,Tooltip,Legend);const Reports=()=>{const[chartData,setChartData]=useState(null);const token=localStorage.getItem(\"token\");useEffect(()=>{const fetchData=async()=>{try{const data=await getChartData(\"research_funding\",token);setChartData({labels:data.map(d=>d.label),datasets:[{label:\"Research Funding Distribution ($K)\",data:data.map(d=>d.value),backgroundColor:[\"#FF6384\",\"#36A2EB\",\"#FFCE56\",\"#8A2BE2\"]}]});}catch(err){console.error(\"Error fetching chart data:\",err);}};fetchData();},[token]);if(!chartData)return/*#__PURE__*/_jsx(\"p\",{children:\"Loading chart...\"});return/*#__PURE__*/_jsxs(\"div\",{style:{padding:\"20px\"},children:[/*#__PURE__*/_jsx(\"h2\",{children:\"Reports\"}),/*#__PURE__*/_jsx(Pie,{data:chartData}),/*#__PURE__*/_jsxs(\"p\",{children:[\"This pie chart shows the distribution of research funding sources at UNC Charlotte this month. Data source: \",/*#__PURE__*/_jsx(\"a\",{href:\"https://inside.charlotte.edu/2025/10/30/hundreds-celebrate-unc-charlottes-research-excellence/\",target:\"_blank\",rel:\"noopener noreferrer\",children:\"Inside UNC Charlotte\"}),\".\"]})]});};export default Reports;","map":{"version":3,"names":["React","useEffect","useState","getChartData","Pie","Chart","ChartJS","ArcElement","Tooltip","Legend","jsx","_jsx","jsxs","_jsxs","register","Reports","chartData","setChartData","token","localStorage","getItem","fetchData","data","labels","map","d","label","datasets","value","backgroundColor","err","console","error","children","style","padding","href","target","rel"],"sources":["/root/a73-final-project/frontend/src/components/Reports.js"],"sourcesContent":["import React, { useEffect, useState } from \"react\";\r\nimport { getChartData } from \"../api\";\r\nimport { Pie } from \"react-chartjs-2\";\r\nimport {\r\n  Chart as ChartJS,\r\n  ArcElement,\r\n  Tooltip,\r\n  Legend\r\n} from 'chart.js';\r\n\r\nChartJS.register(ArcElement, Tooltip, Legend);\r\n\r\nconst Reports = () => {\r\n  const [chartData, setChartData] = useState(null);\r\n  const token = localStorage.getItem(\"token\");\r\n\r\n  useEffect(() => {\r\n    const fetchData = async () => {\r\n      try {\r\n        const data = await getChartData(\"research_funding\", token);\r\n        setChartData({\r\n          labels: data.map(d => d.label),\r\n          datasets: [\r\n            {\r\n              label: \"Research Funding Distribution ($K)\",\r\n              data: data.map(d => d.value),\r\n              backgroundColor: [\"#FF6384\",\"#36A2EB\",\"#FFCE56\",\"#8A2BE2\"]\r\n            }\r\n          ]\r\n        });\r\n      } catch (err) {\r\n        console.error(\"Error fetching chart data:\", err);\r\n      }\r\n    };\r\n    fetchData();\r\n  }, [token]);\r\n\r\n  if (!chartData) return <p>Loading chart...</p>;\r\n\r\n  return (\r\n    <div style={{ padding: \"20px\" }}>\r\n      <h2>Reports</h2>\r\n      <Pie data={chartData} />\r\n      <p>This pie chart shows the distribution of research funding sources at UNC Charlotte this month. Data source: <a href=\"https://inside.charlotte.edu/2025/10/30/hundreds-celebrate-unc-charlottes-research-excellence/\" target=\"_blank\" rel=\"noopener noreferrer\">Inside UNC Charlotte</a>.</p>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Reports;\r\n"],"mappings":"AAAA,MAAO,CAAAA,KAAK,EAAIC,SAAS,CAAEC,QAAQ,KAAQ,OAAO,CAClD,OAASC,YAAY,KAAQ,QAAQ,CACrC,OAASC,GAAG,KAAQ,iBAAiB,CACrC,OACEC,KAAK,GAAI,CAAAC,OAAO,CAChBC,UAAU,CACVC,OAAO,CACPC,MAAM,KACD,UAAU,CAAC,OAAAC,GAAA,IAAAC,IAAA,CAAAC,IAAA,IAAAC,KAAA,yBAElBP,OAAO,CAACQ,QAAQ,CAACP,UAAU,CAAEC,OAAO,CAAEC,MAAM,CAAC,CAE7C,KAAM,CAAAM,OAAO,CAAGA,CAAA,GAAM,CACpB,KAAM,CAACC,SAAS,CAAEC,YAAY,CAAC,CAAGf,QAAQ,CAAC,IAAI,CAAC,CAChD,KAAM,CAAAgB,KAAK,CAAGC,YAAY,CAACC,OAAO,CAAC,OAAO,CAAC,CAE3CnB,SAAS,CAAC,IAAM,CACd,KAAM,CAAAoB,SAAS,CAAG,KAAAA,CAAA,GAAY,CAC5B,GAAI,CACF,KAAM,CAAAC,IAAI,CAAG,KAAM,CAAAnB,YAAY,CAAC,kBAAkB,CAAEe,KAAK,CAAC,CAC1DD,YAAY,CAAC,CACXM,MAAM,CAAED,IAAI,CAACE,GAAG,CAACC,CAAC,EAAIA,CAAC,CAACC,KAAK,CAAC,CAC9BC,QAAQ,CAAE,CACR,CACED,KAAK,CAAE,oCAAoC,CAC3CJ,IAAI,CAAEA,IAAI,CAACE,GAAG,CAACC,CAAC,EAAIA,CAAC,CAACG,KAAK,CAAC,CAC5BC,eAAe,CAAE,CAAC,SAAS,CAAC,SAAS,CAAC,SAAS,CAAC,SAAS,CAC3D,CAAC,CAEL,CAAC,CAAC,CACJ,CAAE,MAAOC,GAAG,CAAE,CACZC,OAAO,CAACC,KAAK,CAAC,4BAA4B,CAAEF,GAAG,CAAC,CAClD,CACF,CAAC,CACDT,SAAS,CAAC,CAAC,CACb,CAAC,CAAE,CAACH,KAAK,CAAC,CAAC,CAEX,GAAI,CAACF,SAAS,CAAE,mBAAOL,IAAA,MAAAsB,QAAA,CAAG,kBAAgB,CAAG,CAAC,CAE9C,mBACEpB,KAAA,QAAKqB,KAAK,CAAE,CAAEC,OAAO,CAAE,MAAO,CAAE,CAAAF,QAAA,eAC9BtB,IAAA,OAAAsB,QAAA,CAAI,SAAO,CAAI,CAAC,cAChBtB,IAAA,CAACP,GAAG,EAACkB,IAAI,CAAEN,SAAU,CAAE,CAAC,cACxBH,KAAA,MAAAoB,QAAA,EAAG,8GAA4G,cAAAtB,IAAA,MAAGyB,IAAI,CAAC,gGAAgG,CAACC,MAAM,CAAC,QAAQ,CAACC,GAAG,CAAC,qBAAqB,CAAAL,QAAA,CAAC,sBAAoB,CAAG,CAAC,IAAC,EAAG,CAAC,EAC5R,CAAC,CAEV,CAAC,CAED,cAAe,CAAAlB,OAAO","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}